{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nasync function servisePixabay(str, page = 1) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '42170319-af092c1d236dd53a733e41db9';\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: str,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    page: page,\n    per_page: 15,\n  });\n\n  const { data } = await axios.get(`${BASE_URL}?${params}`);\n  return data;\n}\n\nexport { servisePixabay };\n","function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        downloads,\n        views,\n        comments,\n        likes,\n        webformatURL,\n        tags,\n        largeImageURL,\n      }) =>\n        `<li class=\"gallery_item\">\n        <a class=\"gallery_link\" href=\"${largeImageURL}\">\n          <img class=\"gallery_img\" src=\"${webformatURL}\" data-sourse=\"${largeImageURL}\" alt=\"${tags}\" />\n        </a>\n        <ul class=\"gallery_item_params\">\n          <li class=\"gallery_item_params_link\">\n            <svg class=\"gallery_svg\" width=\"24\" height=\"24\">\n              <use href=\"../img/sprite.svg#icon-downloads\"></use>\n            </svg>\n            ${downloads}\n          </li>\n          <li class=\"gallery_item_params_link\">\n            <svg class=\"gallery_svg\" width=\"24\" height=\"24\">\n              <use href=\"../img/sprite.svg#icon-heart\"></use>\n            </svg>\n            ${likes}\n          </li>\n          <li class=\"gallery_item_params_link current\">\n            <svg class=\"gallery_svg\" width=\"24\" height=\"24\">\n              <use href=\"../img/sprite.svg#icon-search\"></use>\n            </svg>\n            ${views}\n          </li>\n          <li class=\"gallery_item_params_link current\">\n            <svg class=\"gallery_svg\" width=\"24\" height=\"24\">\n              <use href=\"../img/sprite.svg#icon-form-search\"></use>\n            </svg>\n            ${comments}\n          </li>\n          </ul>\n          </li>\n          `\n    )\n    .join('');\n}\n\n\nexport { createMarkup };","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { servisePixabay } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\n\nlet page = 1;\n\nconst elements = {\n  searchForm: document.querySelector('#present_form'),\n  list: document.querySelector('.gallery'),\n  loadBtn: document.querySelector('.js-load-more'),\n};\n\nelements.searchForm.addEventListener('submit', onSearchClick);\n\nfunction onSearchClick(e) {\n  e.preventDefault();\n  const searchInput = e.currentTarget.elements.fieldSearch;\n  servisePixabay(searchInput.value, 1)\n    .then(data => {\n      if (!data.hits.length) {\n        iziToast.show({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topCenter',\n          backgroundColor: 'rgba(252, 249, 249, 1)',\n          messageColor: '#000',\n          zindex: '10000000',\n        });\n      }\n      elements.list.innerHTML = createMarkup(data.hits);\n    })\n    .catch(err => console.log(err));\n}\n"],"names":["servisePixabay","str","page","BASE_URL","API_KEY","params","data","axios","createMarkup","arr","downloads","views","comments","likes","webformatURL","tags","largeImageURL","elements","onSearchClick","e","searchInput","iziToast","err"],"mappings":"6vBACA,eAAeA,EAAeC,EAAKC,EAAO,EAAG,CAC3C,MAAMC,EAAW,2BACXC,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAMC,EACN,SAAU,EACd,CAAG,EAEK,CAAE,KAAAI,CAAI,EAAK,MAAMC,EAAM,IAAI,GAAGJ,CAAQ,IAAIE,CAAM,EAAE,EACxD,OAAOC,CACT,CChBA,SAASE,EAAaC,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CACC,UAAAC,EACA,MAAAC,EACA,SAAAC,EACA,MAAAC,EACA,aAAAC,EACA,KAAAC,EACA,cAAAC,CACD,IACC;AAAA,wCACgCA,CAAa;AAAA,0CACXF,CAAY,kBAAkBE,CAAa,UAAUD,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAOrFL,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAMTG,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAMLF,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAMLC,CAAQ;AAAA;AAAA;AAAA;AAAA,WAKjB,EACA,KAAK,EAAE,CACZ,CCnCA,MAAMK,EAAW,CACf,WAAY,SAAS,cAAc,eAAe,EAClD,KAAM,SAAS,cAAc,UAAU,EACvC,QAAS,SAAS,cAAc,eAAe,CACjD,EAEAA,EAAS,WAAW,iBAAiB,SAAUC,CAAa,EAE5D,SAASA,EAAcC,EAAG,CACxBA,EAAE,eAAc,EAChB,MAAMC,EAAcD,EAAE,cAAc,SAAS,YAC7CnB,EAAeoB,EAAY,MAAO,CAAC,EAChC,KAAKd,GAAQ,CACPA,EAAK,KAAK,QACbe,EAAS,KAAK,CACZ,MAAO,QACP,QACE,2EACF,SAAU,YACV,gBAAiB,yBACjB,aAAc,OACd,OAAQ,UAClB,CAAS,EAEHJ,EAAS,KAAK,UAAYT,EAAaF,EAAK,IAAI,CACtD,CAAK,EACA,MAAMgB,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC"}